

%src mongo lisence.


% https://www.techtarget.com/searchdatamanagement/definition/MongoDB
% jotain täältä. tämä tosin sanoo että on open source joka ei oo sinänsä totta
% sitaatti 28.5


%   TODO   TARKISTA KAIKKI VIITTEET ETTÄ NE OIKEESTI ON OIKEESTA PAIKASTA


\subsubsection{MongoDB yleisesti}


%MongoDB on mongoDB inc:in valmistama ja ylläpitämä, Server Side Public Lisenssillä toimiva NoSql (eng "non sql"{} tai "not only sql"{}) dokumentti pohjainen tietokanta hallinta ohjelma.

% this is from gpt with above prompt
%MongoDB is a NoSQL document-based database management program produced and maintained by MongoDB Inc.
%It is designed to handle large volumes of unstructured data and offers high performance, high availability, and easy scalability.
%MongoDB stores data in flexible, JSON-like documents, which means fields can vary from document to document and data structure can be changed over time.
%This database system is widely used for modern applications due to its ability to manage data of diverse types without requiring a fixed schema.

%mongo website and repo
% 5.6

%https://www.mongodb.com/docs/manual/core/document/
%json bson, document format
% 5.6

%https://www.techtarget.com/searchdatamanagement/definition/MongoDB
% performance and availability
% 5.6

%https://www.mongodb.com/resources/products/fundamentals/why-use-mongodb
%used alot
% 5.6


%sources are cited above
MongoDB on NoSQL(eng "non sql"{} tai "not only sql"{}) dokumenttipohjainen tietokannan hallintaohjelma, joka on MongoDB Inc:in valmistama ja ylläpitämä.
Se on suunniteltu käsittelemään suuria määriä strukturoimatonta dataa, ja se tarjoaa suuren suorituskyvyn, korkean käytettävyyden ja helpon skaalautuvuuden. 
\medskip

MongoDB tallentaa tiedot joustaviin, JSON-tyyppisiin dokumentteihin, mikä tarkoittaa, että kentät voivat vaihdella dokumentista toiseen ja tietorakennetta voidaan muuttaa ajan myötä. \labcite{mongodb24a}
Tätä tietokantajärjestelmää käytetään laajalti nykyaikaisissa sovelluksissa, koska se pystyy hallitsemaan erityyppisiä tietoja ilman kiinteää skeemaa.\labcite{mongodb24b}
\medskip



\subsubsection{Skaalautuminen}



%https://www.lenovo.com/us/en/glossary/scalling/
%6.6

Skaalautumisella tarkoitetaan sovelluksen, järjestelmän tai infrastruktuurin
mahdollisuutta hallita kasvavaa määrää dataa, käyttäjiä tai stressiä ilman että se kompormisoisi suorituskykyä tai vakautta.
Skaalautuminen on tärkeää sillä kuin sovellus kasvaa sen pitää pystyä käsittelemään kasvavaa kuormaa.
Ilman skaalautumista järjestelmästä voi tulla hidas tai se voi johtaa seisokkiaikaan.\labcite{lenovo}
\medskip

Vertikaalisella skaalautumisella tarkoitetaan yksittäisen palvelimen tai järjestelmän olemassa olevien resurssien kehittämistä, 
kuten keskusmuistin tai prosessorin päivitystä, kasvataen järjestelmän kuorman hallintaa.\labcite{lenovo}
\medskip

Horisonttaali skaalaus käsittää koneiden ja järjestelmien lisäämistä, jotka pystyy jakamaan tai kuorman usean palvelimen välillä.
Tämä tuo myös lisä turvaa sillä jos järjestelmä tai sovellus kaatuaa palvelinvian takia, 
toinen palvelin voi tuurata sitä.
Mongodb skaalautuminen perustuu replikointi ja shardaus ominaisuuskiin, jotka toimivat horisonttaalisella skaalautumisella. \labcite{lenovo}
\medskip

%https://www.lenovo.com/us/en/glossary/scalling/
% kaikki sitatoitu tästä
%6.6





% https://www.mongodb.com/resources/products/capabilities/sharding
%5.6

%https://www.mongodb.com/resources/products/capabilities/replication
%5.6



%viittaa allaolevaan kuvaan 
%tässä on vamraankin tarpeeksi tekstiä sitten kun se on uudelleen kirjoitettu
MongoDB replikointi antaa mahdollisuuden tehdä varmuuskopioita tietokannasta ja säilyttää niitä eri palvelimilla, 
varmuuskopiot voidaan käyttöön ottaa jos pää tietokanta kaatuu. 
%
Kaaviossa 1 näkyy esimerkki replikoinnin toiminnasta, asiakassovellus(eng client application) lähettää kaikki kirjoitus ja luku operaatiot pää (eng primäry) tietokannalle, 
pää tietokanta jakaa kaikki kirjoitus ohjeet muille toissiaisille kopioille pitäen ne ajan tasalla.
Jos pää tietokanta kaatuu tai sammuu, jostain toissiaisesta kopio tietokannasta tulee uusi pää tietokanta.
Tämä kasvattaa luotettavuutta sillä jos olisi vain yksi tietokanta, sen kaatuaminen lakkauttaisi sovelluksen toiminnan. \labcite{mongodb24c}
\medskip
\bigskip

%https://www.mongodb.com/resources/products/capabilities/replication
%6.6
\includesvg[width = 10cm]{./src/public/oppar/mongoreplication.svg}\\
Kaavio\getChartCount{}. Kaavio replikointi mallista \labimgcite{mongodb24c}
\medskip


%periaattees voi kirjoittaa verbatin suomeksi toi what is database sharding osa
%https://kinsta.com/blog/mongodb-sharding/
%5.6

% official 
% https://www.mongodb.com/resources/products/capabilities/sharding
%https://www.mongodb.com/docs/manual/sharding/
%5.6

%(https://kinsta.com/blog/mongodb-sharding/)
MongoDB sharding antaa mahdollisuuden jakaa itse tietokanta useaan palaan ja jakaa jokainen palanen erikseen eri palvelimellle.
nämä pienemmät palat ovat "shardeja"{} ja ovat itsenäisiä osia kokonaisesta tietokannasta.\labcite{kinsta23}
%
%(capabilities sharding)
Tämä on hyödyllinen kun yhdellä palvelimella tulee ongelmia suuren tiedon käsittelyn kanssa.
Kaaviossa 2 näkyy sharkd klusterin toimintaperiaate ja siihen kuuluvat komponentit. \labcite{mongodb24d}
\medskip
\bigskip


%täältä kuva
%https://www.mongodb.com/docs/manual/sharding/
%5.6

% onko tämä kaavio vai kuva ja mitä väliä tai eroa

\includesvg[width = 10 cm]{./src/public/oppar/mongosharding.svg}\\
Kaavio\getChartCount{}. Kaavio sharding mallista \labcite{mongodb24e}
\medskip

%https://www.mongodb.com/docs/manual/core/sharded-cluster-query-router/
%operaatiot parempi selitys
Kaavion 2 Mongos tai reitittimen pää funktio on reitiittää tietokanta operaatiot oikeille shardeille käyttäen configuraatio palvelimelta saatua metadataa.
Asiakassovellus on yhteydessä mongos:siin ja se toimii rapapintaja käyttäjän ja shardien välillä. 
%asiakieli
Kun asiakassovellus lähettää kyselyn tietokantaan, reititin kysyy konfigurointipalvelimelta (eng congig server) millä shardeilla on kyseinen data. 
Jonka jälkeen mongos voi reitittää kyselyn shardille ja palauttaa vastauksen asiakassovellukselle.\labcite{mongodb24f}
\medskip

%https://www.mongodb.com/docs/manual/core/sharded-cluster-shards/ 
%6.6 
%asiakieli
Shard on tietokanta palvelin, joka sisältää osan klusterin koko tietokannasta.
Itse shardejen pitää olla replika settejä, 
tämä tuo lisä turvaa datan hakuun sillä jos shardin pää kanta kaatuaa voi toissijainen kopio ottaa sen paikan. \labcite{mongodb24g}
\medskip
%do we cite ourselves here?

%(https://www.mongodb.com/docs/manual/reference/config-database/) 6.6
Konfigurointipalvelin sisältää asetuksia ja metadataa klusterista, 
kuten tietoja mitkä shardit ovat olemassa, mikä on shardin tila,
yksityiskohtia siitä mitkä osat tietokannasta on tallennettu mihinkin shardeihin
%osien pitää olla joku sana mitä käytetään uselammin. chunk enkuks
ja tietoja osien tasapainottamisesta shardien välillä tietojen tasaisen jakautumisen varmistamiseksi.\labcite{mongodb24h}



\subsubsection{Nosql Dokumentti}


% tämä saatetaan poistaa ehkä

jotain nosql yleisesti, jotain dokumentti vs sql
jotain dokumenteista yleisesti

\medskip

NoSql tietokannoilla on monta tapaa säilyttää dataa, jotain relatiivisesta kannasta. 

dokumentti pohjainen tietokanta, jota mongodb käyttää, tallettaa tiedot jossain avain arvo tiedosto formaatissa kuten xml, yaml ja json. \citemissing
\medskip


MongoDB tallettaa tiedont BSON muodossa, joka on binaari edustus JSON formaatista.\labcite{mongodb24a}
tietokannasta dokumentteja voi hakea niiden uniikkien tunnisteiden tai sisällön arvojen perusteella
\medskip


















% if we want to add stuff about finding document 
% though it seemed kinda difficult to find anything usefull 
%so probably not gonna write about this unless we need more content in here
    
%https://www.mongodb.com/docs/manual/indexes/
%https://www.mongodb.com/docs/v5.3/indexes/

% all sitated at 31.5

%incase i cannot read
%https://www.youtube.com/watch?v=nkSjhL40CTs
%https://www.youtube.com/watch?v=D14wWW9EEx8

% all sitated at 31.5

%https://www.mongodb.com/docs/manual/reference/method/cursor.explain/#mongodb-method-cursor.explain
% sitated at 5.6

